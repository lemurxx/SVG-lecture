!function(g){var I={};function C(A){if(I[A])return I[A].exports;var B=I[A]={i:A,l:!1,exports:{}};return g[A].call(B.exports,B,B.exports,C),B.l=!0,B.exports}C.m=g,C.c=I,C.d=function(g,I,A){C.o(g,I)||Object.defineProperty(g,I,{configurable:!1,enumerable:!0,get:A})},C.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(I,"a",I),I},C.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},C.p="",C(C.s=6)}({6:function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n__webpack_require__(7);\r\n__webpack_require__(8);\r\nvar text = "állj, álarc, alul, állás, állat, állomás, ballag, bal, billeg, bámul, belső, bólint, bölcső, csalán, Csilla, cseles, csaló, dallam, elem, ellenség, ellenőrző, előtt, felleg, fullad, felnőtt, gallér, galamb, Gabriella, Göncölszekér, Gellért, gyalu, hallotta, hol, hull, halk, holló, háló, halpikkely, hüllő, illat, Ilona, illik, istálló, jelez, jellemző, jelmez, jelvény, Jolán, Júlia, július, kamilla, kalap, kapcsoló, karol, kell, kellemes, kiáltás, kiállítás, kilenc, kilogramm, kolbász, költő, különben, Lilla, lila, madártoll, malom, megálló, meleg, mellett, mellény, nulla, nyílik, nyúlik, olló, palota, pillangó, pillanat, roller, sikál, szalag, szálló, szálloda, szitál, tollbamondás, tolvaj, váll, válogat, vasal, vélemény, világ, villa, villám, villog, víziló, zálog, ülés";\r\nvar $ = window.$;\r\n$(\'#source\').change(function () {\r\n    var text = $(\'#source\').val().replace(/\\.|\\!|\\:|\\(|\\)|\\,/g, \' \');\r\n    var arr = text.split(\' \').filter(function (w) { return w.length > 2; });\r\n    var wordsObj = _.groupBy(arr);\r\n    var wordsArr = [];\r\n    for (var w in wordsObj) {\r\n        wordsArr.push({\r\n            text: w,\r\n            size: wordsObj[w].length\r\n        });\r\n    }\r\n    Cloud.init(1, "body", wordsArr);\r\n});\r\nvar words = text.split(", ").map(function (w) {\r\n    return {\r\n        text: w,\r\n        size: Math.random() * 30\r\n    };\r\n});\r\nwindow.Cloud = (function () {\r\n    var zoomin = function (words) {\r\n        zoom += 0.1;\r\n        init(zoom, "body", words);\r\n    };\r\n    var zoomout = function () {\r\n        zoom -= 0.1;\r\n        init(zoom, "body", words);\r\n    };\r\n    var refresh = function () {\r\n        zoom = 1;\r\n        init(zoom, "body", words);\r\n    };\r\n    var zoom = 1;\r\n    var init = function (zoom, wrapperelement, source) {\r\n        $("#cloud").empty();\r\n        var width = $(wrapperelement).width();\r\n        var height = $(wrapperelement).height() * 0.8;\r\n        var words = source;\r\n        var sum = words.reduce(function (a, b) {\r\n            return a += b.size;\r\n        }, 0);\r\n        var length = words.length;\r\n        var corrector;\r\n        corrector = //determined by experiments only\r\n            Math.sqrt(length * 4) * 100;\r\n        words = words.map(function (el) {\r\n            return {\r\n                text: el.text,\r\n                size: el.size / sum * corrector * zoom\r\n            };\r\n        });\r\n        var sum2 = words.reduce(function (a, b) {\r\n            return a += b.size;\r\n        }, 0);\r\n        var fill = d3.scale.category20();\r\n        var layout = d3.layout.cloud()\r\n            .size([width, height])\r\n            .words(words)\r\n            .padding(2)\r\n            .rotate(function () {\r\n            return ~~(Math.random() * 2) * 90 - 45; //word rotation\r\n        })\r\n            .font("Impact")\r\n            .fontSize(function (d) {\r\n            return d.size;\r\n        })\r\n            .on("end", draw);\r\n        layout.start();\r\n        function draw(words) {\r\n            d3.select("#cloud").append("svg").attr("viewBox", "0,0," + width + "," + height)\r\n                .attr("width", layout.size()[0])\r\n                .attr("height", layout.size()[1])\r\n                .attr("preserveAspectRatio", "xMinYMin")\r\n                .append("g")\r\n                .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")\r\n                .selectAll("text")\r\n                .data(words)\r\n                .enter().append("text")\r\n                .transition()\r\n                .style("font-size", function (d) {\r\n                return d.size + "px";\r\n            })\r\n                .style("font-family", "Impact")\r\n                .style("fill", function (d, i) {\r\n                return fill(i);\r\n            })\r\n                .attr("text-anchor", "middle")\r\n                .attr("transform", function (d) {\r\n                return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";\r\n            })\r\n                .text(function (d) {\r\n                return d.text;\r\n            });\r\n            layout.stop();\r\n            $("svg").removeAttr("width").removeAttr("height");\r\n            $("svg").attr("width", "100%").attr("height", "100%");\r\n            if ($("text").length < length) {\r\n                $("#warn").removeClass("hidden");\r\n            }\r\n            else {\r\n                $("#warn").addClass("hidden");\r\n            }\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        zoomin: zoomin,\r\n        zoomout: zoomout,\r\n        refresh: refresh\r\n    };\r\n})();\r\n$("#source").val("\\n   A Csillagok h\\u00E1bor\\u00FAja (Star Wars) eredetileg egy \\u0171ropera-filmsorozat, amely George Lucas filmrendez\\u0151 \\u00F6tletein alapszik. A filmek cselekm\\u00E9nye a \\u201Er\\u00E9ges-r\\u00E9gen, egy messzi-messzi galaxisban\\u2026\\u201D \\u00E9l\\u0151 szerepl\\u0151k t\\u00F6rt\\u00E9net\\u00E9t mes\\u00E9li el.\\n   Az els\\u0151 filmet 1977-ben mutatt\\u00E1k be a mozik Csillagok h\\u00E1bor\\u00FAja c\\u00EDmmel (1981-ben Csillagok h\\u00E1bor\\u00FAja IV: Egy \\u00FAj rem\\u00E9ny-re v\\u00E1ltozott a c\\u00EDme[1][2]), a film gyorsan a popkult\\u00FAra megker\\u00FClhetetlen klasszikus\\u00E1v\\u00E1 v\\u00E1lt, amely sz\\u00E1mos m\\u00E1s filmre \\u00E9s tudom\\u00E1nyos-fantasztikus m\\u0171re volt hat\\u00E1ssal. Az els\\u0151 filmet k\\u00E9t sikeres folytat\\u00E1s k\\u00F6vette, az 1980-ban bemutatott A Birodalom visszav\\u00E1g, illetve az 1983-as A Jedi visszat\\u00E9r, ez a h\\u00E1rom film alkotja az eredeti Star Wars tril\\u00F3gi\\u00E1t. Az eredeti tril\\u00F3gi\\u00E1t 1999 \\u00E9s 2005 k\\u00F6z\\u00F6tt egy el\\u0151zm\\u00E9ny tril\\u00F3gia k\\u00F6vette, amely megoszt\\u00F3 reakci\\u00F3kat v\\u00E1ltott ki mind a rajong\\u00F3kb\\u00F3l, mind a kritikusokb\\u00F3l. 2015-ben A Jedi visszat\\u00E9r esem\\u00E9nyei ut\\u00E1n j\\u00E1tsz\\u00F3d\\u00F3 \\u00FAjabb tril\\u00F3gia vette kezdet\\u00E9t Az \\u00E9bred\\u0151 Er\\u0151 c\\u00EDm\\u0171 epiz\\u00F3ddal. Az els\\u0151 nyolc film t\\u00F6bb Oscar-d\\u00EDj jel\\u00F6l\\u00E9st is kapott, \\u00E1m d\\u00EDjat csak az els\\u0151 k\\u00E9t film nyert. A filmek hatalmas sikernek bizonyultak, az \\u00F6sszes bemutatott film egy\\u00FCttv\\u00E9ve 8,5 milli\\u00E1rd doll\\u00E1r bev\\u00E9telt termelt a mozik kassz\\u00E1in\\u00E1l,[3] ezzel a Star Wars m\\u00E1sodik legj\\u00F6vedelmez\\u0151bb filmsorozat a Marvel Cinematic Universe filmjei m\\u00F6g\\u00F6tt.[4] Eddig k\\u00E9t antol\\u00F3gia film k\\u00E9sz\\u00FClt el, ezek a Zsiv\\u00E1ny Egyes (2016) \\u00E9s a Solo: Egy Star Wars-t\\u00F6rt\\u00E9net (2018).\\n   Napjainkra a filmeken k\\u00EDv\\u00FCl k\\u00F6nyvek, telev\\u00EDzi\\u00F3s sorozatok, sz\\u00E1m\\u00EDt\\u00F3g\\u00E9pes \\u00E9s videoj\\u00E1t\\u00E9kok, t\\u00E9maparki l\\u00E1tnival\\u00F3k, vid\\u00E1mparkok, k\\u00E9preg\\u00E9nyek egy\\u00FCttesen birtokolj\\u00E1k a Star Wars nevet, ezzel is hozz\\u00E1j\\u00E1rulva a filmek vil\\u00E1g\\u00E1nak fejl\\u0151d\\u00E9s\\u00E9hez, b\\u0151v\\u00FCl\\u00E9s\\u00E9hez. A filmsorozat birtokolja a legsikeresebb filmes merchandising Guinness-rekordj\\u00E1t. 2015-ben a Star Wars m\\u00E1rka \\u00E9rt\\u00E9k\\u00E9t 42 milli\\u00E1rd doll\\u00E1rra becs\\u00FClt\\u00E9k.\\n   A \\u201Ekorszellemt\\u0151l\\u201D, amelyben Lucas feln\\u0151tt, ez egy\\u00E1ltal\\u00E1n nem volt idegen: a hatvanas-hetvenes \\u00E9vekt\\u0151l kezdve megfigyelhet\\u0151 a term\\u00E9szettudom\\u00E1nyos optimizmus hanyatl\\u00E1sa, s\\u0151t a tudom\\u00E1nyelleness\\u00E9g (ez sz\\u00E1mos okra vezethet\\u0151 vissza, a legnyilv\\u00E1nval\\u00F3bb, de k\\u00F6zel sem biztosan az egyetlen a hidegh\\u00E1bor\\u00FAs korszak l\\u00E9gk\\u00F6re, amelyben az emberis\\u00E9g k\\u00E9t egym\\u00E1st\\u00F3l rettegve \\u00E9l\\u0151 frakci\\u00F3ra oszolva a cs\\u00FAcstechnol\\u00F3gi\\u00E1s atomfegyverek \\u00E1rny\\u00E9k\\u00E1ban \\u00E9lte \\u00E9let\\u00E9t, amelyek egyszerre garant\\u00E1lt\\u00E1k a k\\u00E9tes b\\u00E9k\\u00E9t a k\\u00F6lcs\\u00F6n\\u00F6s elrettent\\u00E9s jegy\\u00E9ben, illetve a tot\\u00E1lis vil\\u00E1gpusztul\\u00E1st, ha az el\\u0151bbi v\\u00E9letlen\\u00FCl m\\u00E9gse m\\u0171k\\u00F6dne). A Csillagok h\\u00E1bor\\u00FAj\\u00E1val Lucas nemcsak kil\\u00FAgozta a sci-fi m\\u0171fajb\\u00F3l egyik l\\u00E9nyeg\\u00E9t, a term\\u00E9szettudom\\u00E1nyok ir\\u00E1nti \\u00E9rdekl\\u0151d\\u00E9st, de tov\\u00E1bb is ment: a legels\\u0151k\\u00E9nt elk\\u00E9sz\\u00EDtett filmben, amit k\\u00E9s\\u0151bb \\u00DAj rem\\u00E9nynek c\\u00EDmeztek, a gonosz birodalma \\u00E1ltal elk\\u00E9sz\\u00EDtett bolyg\\u00F3puszt\\u00EDt\\u00F3 szuperfegyver, a Hal\\u00E1lcsillag k\\u00E9pviseli a tudom\\u00E1nyos-technol\\u00F3giai fejl\\u0151d\\u00E9s cs\\u00FAcs\\u00E1t, amelyt\\u0151l m\\u00E9g a film leggonoszabb szerepl\\u0151je, Darth Vader is undorodik.\\n   filmsorozat kezd\\u0151darabj\\u00E1t, a Csillagok h\\u00E1bor\\u00FAj\\u00E1t 1977. m\\u00E1jus 25-\\u00E9n mutatt\\u00E1k be, majd ezt k\\u00F6vet\\u0151en elk\\u00E9sz\\u00FClt k\\u00E9t folytat\\u00E1sa, A Birodalom visszav\\u00E1g (1980. m\\u00E1jus 21.), majd A Jedi visszat\\u00E9r (1983. m\\u00E1jus 25.) is.\\n\\n   Az els\\u0151 r\\u00E9sz bemutat\\u00E1s\\u00E1nak huszadik \\u00E9vfordul\\u00F3j\\u00E1ra 1997-ben a IV.\\u2013VI. epiz\\u00F3dokat \\u00FAjra megjelentett\\u00E9k (el\\u0151sz\\u00F6r a mozikban, ut\\u00E1na VHS kazett\\u00E1n), Special Editions c\\u00EDmen. Ekkor ugyanis a technika m\\u00E1r lehet\\u0151v\\u00E9 tette olyan speci\\u00E1lis effektusok alkalmaz\\u00E1s\\u00E1t is, amelyek a filmek forgat\\u00E1s\\u00E1nak idej\\u00E9n m\\u00E9g nem voltak lehets\\u00E9gesek. A film feljav\\u00EDt\\u00E1s\\u00E1n k\\u00EDv\\u00FCl George Lucas n\\u00E9h\\u00E1ny effektust digit\\u00E1lisan \\u00FAjra feldolgozott (digit\\u00E1lis Jabba \\u00E9s egy kicsiny, de fontos jav\\u00EDt\\u00E1s a Han Solo \\u00E9s Greedo k\\u00F6zti harcot bemutat\\u00F3 filmr\\u00E9szletben). Ezenk\\u00EDv\\u00FCl 2004. szeptember 21-\\u00E9n ism\\u00E9t megjelent az eredeti tril\\u00F3gi\\u00E1nak egy \\u00FAjabb kiad\\u00E1sa, amelyben szint\\u00E9n tal\\u00E1lhatunk n\\u00E9h\\u00E1ny v\\u00E1ltoztat\\u00E1st. A legjelent\\u0151sebb \\u00E9s legvitatottabb v\\u00E1ltoztat\\u00E1s az volt, amikor a Csillagok h\\u00E1bor\\u00FAja VI: A jedi visszat\\u00E9r c\\u00EDm\\u0171 r\\u00E9sz utols\\u00F3 jelenet\\u00E9ben Lucas lecser\\u00E9lte az Anakin Skywalkert j\\u00E1tsz\\u00F3 Sebastian Shaw alakj\\u00E1t Hayden Christensen\\u00E9re.\\n   \\n   1999-ben ker\\u00FClt mozikba a rajong\\u00F3k \\u00E1ltal v\\u00E1rva-v\\u00E1rt epiz\\u00F3d a Star Wars I. r\\u00E9sz - Balj\\u00F3s \\u00C1rnyak, mely az eredeti tril\\u00F3gia cselekm\\u00E9nye el\\u0151tt k\\u00F6r\\u00FClbel\\u00FCl 30 \\u00E9vvel j\\u00E1tsz\\u00F3dik. Ezt k\\u00F6vette tov\\u00E1bbi k\\u00E9t folytat\\u00E1s, a Star Wars II. r\\u00E9sz - A kl\\u00F3nok t\\u00E1mad\\u00E1sa (2002) \\u00E9s a Star Wars III. r\\u00E9sz - A Sith-ek bossz\\u00FAja (2005).\\n   \\n   2011-ben megjelent a hat film bluray kiad\\u00E1sa, amely szint\\u00E9n tartalmazott kisebb m\\u00F3dos\\u00EDt\\u00E1sokat, a klasszikus \\u00E9s az el\\u0151zm\\u00E9nytril\\u00F3gi\\u00E1ban egyar\\u00E1nt (ut\\u00F3bbiban p\\u00E9ld\\u00E1ul az I. r\\u00E9sz Yoda-b\\u00E1bfigur\\u00E1j\\u00E1t sz\\u00E1m\\u00EDt\\u00F3g\\u00E9pes grafik\\u00E1ra cser\\u00E9lt\\u00E9k).\\n   \\n   2012-ben a Disney felv\\u00E1s\\u00E1rolta a Lucasfilmet, amely a sorozat jogaival rendelkezett, majd 2013 m\\u00E1jus\\u00E1ban Kathleen Kennedy, a Lucasfilm eln\\u00F6ke bejelentette, hogy a k\\u00F6vetkez\\u0151 Star Wars-filmet \\u2013 a sorozat hetedik r\\u00E9sz\\u00E9t, Az \\u00E9bred\\u0151 Er\\u0151t \\u2013 2014-ben kezdik forgatni J. J. Abrams ir\\u00E1ny\\u00EDt\\u00E1s\\u00E1val (a VII. r\\u00E9sz forgat\\u00F3k\\u00F6nyv\\u00E9t a rendez\\u0151 Lawrence Kasdan, valamint Michael Arndt \\u00EDrta), a filmet 2015 december\\u00E9ben mutattak be a mozikban. A folytat\\u00E1s tril\\u00F3gia m\\u00E1sodik r\\u00E9sz\\u00E9t a Rian Johnson \\u00E1ltal \\u00EDrt \\u00E9s rendezett Az utols\\u00F3 Jediket 2017. december\\u00E9ben mutatt\\u00E1k be a mozik. A tril\\u00F3gia befejez\\u0151 epiz\\u00F3dja, melyet J. J. Abrams rendez el\\u0151rel\\u00E1that\\u00F3lag 2019 december\\u00E9ben ker\\u00FCl a mozikba.[15]\\n   \\n   A folytat\\u00E1s tril\\u00F3gi\\u00E1val egy id\\u0151ben a Lucasfilm bejelentette, hogy Az \\u00E9bred\\u0151 Er\\u0151 bemutat\\u00E1sa ut\\u00E1n \\u00E9vente olyan \\u00FAj filmek ker\\u00FCln\\u00E9nek a mozikba, melyek m\\u00E1r nem a Skywalker-sorozat folytat\\u00E1sai lenn\\u00E9nek, hanem a Star Wars-univerzum egy-egy h\\u0151s\\u00E9nek t\\u00F6rt\\u00E9nete ker\\u00FClne a filmek k\\u00F6z\\u00E9ppontj\\u00E1ba.[16][17] Az els\\u0151 ilyen \\u00F6n\\u00E1ll\\u00F3 film a 2016 december\\u00E9ben bemutatott Zsiv\\u00E1ny Egyes volt, amely a III. \\u00E9s a IV. epiz\\u00F3d k\\u00F6z\\u00F6tt j\\u00E1tsz\\u00F3dik. Ezt k\\u00F6vette 2018. m\\u00E1jus\\u00E1ban a Ron Howard \\u00E1ltal rendezett Solo, amely Han Solo fiatalkor\\u00E1t mutatja be.")\r\n    .trigger(\'change\');\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvd29yZC1jbG91ZC50cz8zNjAyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUJBQWtDO0FBQ2xDLHVCQUF1QjtBQUV2QixJQUFJLElBQUksR0FDTCwrd0JBQSt3QixDQUFDO0FBRW54QixJQUFJLENBQUMsR0FBSSxNQUFjLENBQUMsQ0FBQyxDQUFDO0FBRXRCLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDbEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsRUFBQyxHQUFHLENBQUMsQ0FBQztJQUVoRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFTLENBQUMsSUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFDLENBQUMsQ0FBQztJQUNuRSxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUNsQixLQUFLLElBQUksQ0FBQyxJQUFJLFFBQVEsRUFBRTtRQUN0QixRQUFRLENBQUMsSUFBSSxDQUFDO1lBQ1osSUFBSSxFQUFFLENBQUM7WUFDUCxJQUFJLEVBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU07U0FDeEIsQ0FBQztLQUNIO0lBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQztBQUNGLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVMsQ0FBQztJQUN6QyxPQUFPO1FBQ0wsSUFBSSxFQUFFLENBQUM7UUFDUCxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7S0FDekI7QUFDSCxDQUFDLENBQUMsQ0FBQztBQUdGLE1BQWMsQ0FBQyxLQUFLLEdBQUcsQ0FBQztJQUl2QixJQUFJLE1BQU0sR0FBRyxVQUFTLEtBQUs7UUFDekIsSUFBSSxJQUFJLEdBQUcsQ0FBQztRQUNaLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxJQUFJLE9BQU8sR0FBRztRQUNaLElBQUksSUFBSSxHQUFHLENBQUM7UUFDWixJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxPQUFPLEdBQUc7UUFDWixJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ1QsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztJQUViLElBQUksSUFBSSxHQUFHLFVBQVMsSUFBSSxFQUFFLGNBQWMsRUFBRSxNQUFNO1FBQzlDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUdwQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEMsSUFBSSxNQUFNLEdBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQztRQUM3QyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUM7UUFFbkIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFTLENBQUMsRUFBRSxDQUFDO1lBQ2xDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDckIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRU4sSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUUxQixJQUFJLFNBQVMsQ0FBQztRQUNmLFNBQVMsR0FBSSxnQ0FBZ0M7WUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBR2pDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVMsRUFBRTtZQUMzQixPQUFPO2dCQUNMLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSTtnQkFDYixJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsU0FBUyxHQUFHLElBQUk7YUFDdkMsQ0FBQztRQUVKLENBQUMsQ0FBQyxDQUFDO1FBRUQsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFTLENBQUMsRUFBRSxDQUFDO1lBQ3JDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDckIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBSU4sSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNqQyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTthQUM3QixJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7YUFDbkIsS0FBSyxDQUFDLEtBQUssQ0FBQzthQUNaLE9BQU8sQ0FBQyxDQUFDLENBQUM7YUFDVixNQUFNLENBQUM7WUFFTixPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsZUFBZTtRQUN6RCxDQUFDLENBQUM7YUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDO2FBQ2QsUUFBUSxDQUFDLFVBQVMsQ0FBQztZQUNsQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQyxDQUFDO2FBQ0QsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNuQixNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFZixjQUFjLEtBQUs7WUFDakIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUM7aUJBQzdFLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUMvQixJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDaEMsSUFBSSxDQUFDLHFCQUFxQixFQUFDLFVBQVUsQ0FBQztpQkFDdEMsTUFBTSxDQUFDLEdBQUcsQ0FBQztpQkFDWCxJQUFJLENBQUMsV0FBVyxFQUFFLFlBQVksR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztpQkFDekYsU0FBUyxDQUFDLE1BQU0sQ0FBQztpQkFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQztpQkFDWCxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO2lCQUN0QixVQUFVLEVBQUU7aUJBQ1osS0FBSyxDQUFDLFdBQVcsRUFBRSxVQUFTLENBQUM7Z0JBQzVCLE9BQU8sQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDdkIsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDO2lCQUM5QixLQUFLLENBQUMsTUFBTSxFQUFFLFVBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQzFCLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLENBQUMsQ0FBQztpQkFDRCxJQUFJLENBQUMsYUFBYSxFQUFFLFFBQVEsQ0FBQztpQkFDN0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxVQUFTLENBQUM7Z0JBQzNCLE9BQU8sWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQ2pFLENBQUMsQ0FBQztpQkFDRCxJQUFJLENBQUMsVUFBUyxDQUFDO2dCQUNkLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNoQixDQUFDLENBQUMsQ0FBQztZQUVMLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUVkLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xELENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFFdkQsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLE1BQU0sRUFBQztnQkFDM0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNsQztpQkFDRztnQkFDRixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBRS9CO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxFQUFFLElBQUk7UUFDVixNQUFNLEVBQUUsTUFBTTtRQUNkLE9BQU8sRUFBRSxPQUFPO1FBQ2hCLE9BQU8sRUFBRSxPQUFPO0tBQ2pCLENBQUM7QUFFSixDQUFDLENBQUMsRUFBRSxDQUFDO0FBR04sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyx5NFBBZXFmLENBQUM7S0FDdGdCLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZS93b3JkLWNsb3VkLmxlc3MnO1xyXG5pbXBvcnQgJy4vZDMtY2xvdWQuanMnO1xyXG5cclxudmFyIHRleHQgPSBcclxuICAgXCLDoWxsaiwgw6FsYXJjLCBhbHVsLCDDoWxsw6FzLCDDoWxsYXQsIMOhbGxvbcOhcywgYmFsbGFnLCBiYWwsIGJpbGxlZywgYsOhbXVsLCBiZWxzxZEsIGLDs2xpbnQsIGLDtmxjc8WRLCBjc2Fsw6FuLCBDc2lsbGEsIGNzZWxlcywgY3NhbMOzLCBkYWxsYW0sIGVsZW0sIGVsbGVuc8OpZywgZWxsZW7FkXJ6xZEsIGVsxZF0dCwgZmVsbGVnLCBmdWxsYWQsIGZlbG7FkXR0LCBnYWxsw6lyLCBnYWxhbWIsIEdhYnJpZWxsYSwgR8O2bmPDtmxzemVrw6lyLCBHZWxsw6lydCwgZ3lhbHUsIGhhbGxvdHRhLCBob2wsIGh1bGwsIGhhbGssIGhvbGzDsywgaMOhbMOzLCBoYWxwaWtrZWx5LCBow7xsbMWRLCBpbGxhdCwgSWxvbmEsIGlsbGlrLCBpc3TDoWxsw7MsIGplbGV6LCBqZWxsZW16xZEsIGplbG1leiwgamVsdsOpbnksIEpvbMOhbiwgSsO6bGlhLCBqw7psaXVzLCBrYW1pbGxhLCBrYWxhcCwga2FwY3NvbMOzLCBrYXJvbCwga2VsbCwga2VsbGVtZXMsIGtpw6FsdMOhcywga2nDoWxsw610w6FzLCBraWxlbmMsIGtpbG9ncmFtbSwga29sYsOhc3osIGvDtmx0xZEsIGvDvGzDtm5iZW4sIExpbGxhLCBsaWxhLCBtYWTDoXJ0b2xsLCBtYWxvbSwgbWVnw6FsbMOzLCBtZWxlZywgbWVsbGV0dCwgbWVsbMOpbnksIG51bGxhLCBuecOtbGlrLCBuecO6bGlrLCBvbGzDsywgcGFsb3RhLCBwaWxsYW5nw7MsIHBpbGxhbmF0LCByb2xsZXIsIHNpa8OhbCwgc3phbGFnLCBzesOhbGzDsywgc3rDoWxsb2RhLCBzeml0w6FsLCB0b2xsYmFtb25kw6FzLCB0b2x2YWosIHbDoWxsLCB2w6Fsb2dhdCwgdmFzYWwsIHbDqWxlbcOpbnksIHZpbMOhZywgdmlsbGEsIHZpbGzDoW0sIHZpbGxvZywgdsOtemlsw7MsIHrDoWxvZywgw7xsw6lzXCI7XHJcblxyXG52YXIgJCA9ICh3aW5kb3cgYXMgYW55KS4kO1xyXG4gXHJcbiAgICAkKCcjc291cmNlJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdGV4dCA9ICQoJyNzb3VyY2UnKS52YWwoKS5yZXBsYWNlKC9cXC58XFwhfFxcOnxcXCh8XFwpfFxcLC9nLCcgJyk7XHJcbiAgICAgXHJcbiAgICAgIHZhciBhcnIgPSB0ZXh0LnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHcpe3JldHVybiB3Lmxlbmd0aCA+IDJ9KTtcclxuICAgICAgbGV0IHdvcmRzT2JqID0gXy5ncm91cEJ5KGFycik7XHJcbiAgICAgIGxldCB3b3Jkc0FyciA9IFtdO1xyXG4gICAgICBmb3IgKGxldCB3IGluIHdvcmRzT2JqKSB7XHJcbiAgICAgICAgd29yZHNBcnIucHVzaCh7XHJcbiAgICAgICAgICB0ZXh0OiB3LFxyXG4gICAgICAgICAgc2l6ZTp3b3Jkc09ialt3XS5sZW5ndGhcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgICAgQ2xvdWQuaW5pdCgxLCBcImJvZHlcIiwgd29yZHNBcnIpO1xyXG4gICAgfSlcclxuICAgIHZhciB3b3JkcyA9IHRleHQuc3BsaXQoXCIsIFwiKS5tYXAoZnVuY3Rpb24odykge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRleHQ6IHcsXHJcbiAgICAgICAgc2l6ZTogTWF0aC5yYW5kb20oKSAqIDMwXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAod2luZG93IGFzIGFueSkuQ2xvdWQgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuXHJcbiAgICAgIHZhciB6b29taW4gPSBmdW5jdGlvbih3b3Jkcykge1xyXG4gICAgICAgIHpvb20gKz0gMC4xO1xyXG4gICAgICAgIGluaXQoem9vbSwgXCJib2R5XCIsIHdvcmRzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHpvb21vdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB6b29tIC09IDAuMTtcclxuICAgICAgICBpbml0KHpvb20sIFwiYm9keVwiLCB3b3Jkcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciByZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgem9vbSA9IDE7XHJcbiAgICAgICAgaW5pdCh6b29tLCBcImJvZHlcIiwgd29yZHMpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB2YXIgem9vbSA9IDE7XHJcblxyXG4gICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKHpvb20sIHdyYXBwZXJlbGVtZW50LCBzb3VyY2UpIHtcclxuICAgICAgICAkKFwiI2Nsb3VkXCIpLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciB3aWR0aCA9ICQod3JhcHBlcmVsZW1lbnQpLndpZHRoKCk7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9JCh3cmFwcGVyZWxlbWVudCkuaGVpZ2h0KCkgKiAwLjg7XHJcbiAgICAgICAgdmFyIHdvcmRzID0gc291cmNlO1xyXG5cclxuICAgICAgICB2YXIgc3VtID0gd29yZHMucmVkdWNlKGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgIHJldHVybiBhICs9IGIuc2l6ZTtcclxuICAgICAgICB9LCAwKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgbGVuZ3RoID0gd29yZHMubGVuZ3RoO1xyXG5cclxuICAgICAgICB2YXIgY29ycmVjdG9yOyBcclxuICAgICAgIGNvcnJlY3RvciA9ICAvL2RldGVybWluZWQgYnkgZXhwZXJpbWVudHMgb25seVxyXG4gICAgICAgICAgICBNYXRoLnNxcnQobGVuZ3RoICogIDQpICogMTAwO1xyXG4gICAgICAgXHJcblxyXG4gICAgICAgIHdvcmRzID0gd29yZHMubWFwKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0ZXh0OiBlbC50ZXh0LFxyXG4gICAgICAgICAgICBzaXplOiBlbC5zaXplIC8gc3VtICogY29ycmVjdG9yICogem9vbVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICB2YXIgc3VtMiA9IHdvcmRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICByZXR1cm4gYSArPSBiLnNpemU7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgXHJcbiAgICAgIFxyXG5cclxuICAgICAgICB2YXIgZmlsbCA9IGQzLnNjYWxlLmNhdGVnb3J5MjAoKTtcclxuICAgICAgICB2YXIgbGF5b3V0ID0gZDMubGF5b3V0LmNsb3VkKClcclxuICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXHJcbiAgICAgICAgICAud29yZHMod29yZHMpXHJcbiAgICAgICAgICAucGFkZGluZygyKVxyXG4gICAgICAgICAgLnJvdGF0ZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB+fihNYXRoLnJhbmRvbSgpICogMikgKiA5MCAtIDQ1OyAvL3dvcmQgcm90YXRpb25cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZm9udChcIkltcGFjdFwiKVxyXG4gICAgICAgICAgLmZvbnRTaXplKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuc2l6ZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAub24oXCJlbmRcIiwgZHJhdyk7XHJcbiAgICAgICAgbGF5b3V0LnN0YXJ0KCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRyYXcod29yZHMpIHtcclxuICAgICAgICAgIGQzLnNlbGVjdChcIiNjbG91ZFwiKS5hcHBlbmQoXCJzdmdcIikuYXR0cihcInZpZXdCb3hcIiwgXCIwLDAsXCIgKyB3aWR0aCArIFwiLFwiICsgaGVpZ2h0KVxyXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGxheW91dC5zaXplKClbMF0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGxheW91dC5zaXplKClbMV0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLFwieE1pbllNaW5cIilcclxuICAgICAgICAgICAgLmFwcGVuZChcImdcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBsYXlvdXQuc2l6ZSgpWzBdIC8gMiArIFwiLFwiICsgbGF5b3V0LnNpemUoKVsxXSAvIDIgKyBcIilcIilcclxuICAgICAgICAgICAgLnNlbGVjdEFsbChcInRleHRcIilcclxuICAgICAgICAgICAgLmRhdGEod29yZHMpXHJcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBkLnNpemUgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiSW1wYWN0XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCwgaSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmaWxsKGkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBbZC54LCBkLnldICsgXCIpcm90YXRlKFwiICsgZC5yb3RhdGUgKyBcIilcIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBkLnRleHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGxheW91dC5zdG9wKCk7XHJcblxyXG4gICAgICAgICAgJChcInN2Z1wiKS5yZW1vdmVBdHRyKFwid2lkdGhcIikucmVtb3ZlQXR0cihcImhlaWdodFwiKTtcclxuICAgICAgICAgICQoXCJzdmdcIikuYXR0cihcIndpZHRoXCIsIFwiMTAwJVwiKS5hdHRyKFwiaGVpZ2h0XCIsIFwiMTAwJVwiKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICBpZiAoJChcInRleHRcIikubGVuZ3RoIDwgbGVuZ3RoKXtcclxuICAgICAgICAgICAgJChcIiN3YXJuXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJChcIiN3YXJuXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdDogaW5pdCxcclxuICAgICAgICB6b29taW46IHpvb21pbixcclxuICAgICAgICB6b29tb3V0OiB6b29tb3V0LFxyXG4gICAgICAgIHJlZnJlc2g6IHJlZnJlc2hcclxuICAgICAgfTtcclxuXHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICQoXCIjc291cmNlXCIpLnZhbChgXHJcbiAgIEEgQ3NpbGxhZ29rIGjDoWJvcsO6amEgKFN0YXIgV2FycykgZXJlZGV0aWxlZyBlZ3kgxbFyb3BlcmEtZmlsbXNvcm96YXQsIGFtZWx5IEdlb3JnZSBMdWNhcyBmaWxtcmVuZGV6xZEgw7Z0bGV0ZWluIGFsYXBzemlrLiBBIGZpbG1layBjc2VsZWttw6lueWUgYSDigJ5yw6lnZXMtcsOpZ2VuLCBlZ3kgbWVzc3ppLW1lc3N6aSBnYWxheGlzYmFu4oCm4oCdIMOpbMWRIHN6ZXJlcGzFkWsgdMO2cnTDqW5ldMOpdCBtZXPDqWxpIGVsLlxyXG4gICBBeiBlbHPFkSBmaWxtZXQgMTk3Ny1iZW4gbXV0YXR0w6FrIGJlIGEgbW96aWsgQ3NpbGxhZ29rIGjDoWJvcsO6amEgY8OtbW1lbCAoMTk4MS1iZW4gQ3NpbGxhZ29rIGjDoWJvcsO6amEgSVY6IEVneSDDumogcmVtw6lueS1yZSB2w6FsdG96b3R0IGEgY8OtbWVbMV1bMl0pLCBhIGZpbG0gZ3lvcnNhbiBhIHBvcGt1bHTDunJhIG1lZ2tlcsO8bGhldGV0bGVuIGtsYXNzemlrdXPDoXbDoSB2w6FsdCwgYW1lbHkgc3rDoW1vcyBtw6FzIGZpbG1yZSDDqXMgdHVkb23DoW55b3MtZmFudGFzenRpa3VzIG3FsXJlIHZvbHQgaGF0w6Fzc2FsLiBBeiBlbHPFkSBmaWxtZXQga8OpdCBzaWtlcmVzIGZvbHl0YXTDoXMga8O2dmV0dGUsIGF6IDE5ODAtYmFuIGJlbXV0YXRvdHQgQSBCaXJvZGFsb20gdmlzc3phdsOhZywgaWxsZXR2ZSBheiAxOTgzLWFzIEEgSmVkaSB2aXNzemF0w6lyLCBleiBhIGjDoXJvbSBmaWxtIGFsa290amEgYXogZXJlZGV0aSBTdGFyIFdhcnMgdHJpbMOzZ2nDoXQuIEF6IGVyZWRldGkgdHJpbMOzZ2nDoXQgMTk5OSDDqXMgMjAwNSBrw7Z6w7Z0dCBlZ3kgZWzFkXptw6lueSB0cmlsw7NnaWEga8O2dmV0dGUsIGFtZWx5IG1lZ29zenTDsyByZWFrY2nDs2thdCB2w6FsdG90dCBraSBtaW5kIGEgcmFqb25nw7NrYsOzbCwgbWluZCBhIGtyaXRpa3Vzb2tiw7NsLiAyMDE1LWJlbiBBIEplZGkgdmlzc3phdMOpciBlc2Vtw6lueWVpIHV0w6FuIGrDoXRzesOzZMOzIMO6amFiYiB0cmlsw7NnaWEgdmV0dGUga2V6ZGV0w6l0IEF6IMOpYnJlZMWRIEVyxZEgY8OtbcWxIGVwaXrDs2RkYWwuIEF6IGVsc8WRIG55b2xjIGZpbG0gdMO2YmIgT3NjYXItZMOtaiBqZWzDtmzDqXN0IGlzIGthcG90dCwgw6FtIGTDrWphdCBjc2FrIGF6IGVsc8WRIGvDqXQgZmlsbSBueWVydC4gQSBmaWxtZWsgaGF0YWxtYXMgc2lrZXJuZWsgYml6b255dWx0YWssIGF6IMO2c3N6ZXMgYmVtdXRhdG90dCBmaWxtIGVnecO8dHR2w6l2ZSA4LDUgbWlsbGnDoXJkIGRvbGzDoXIgYmV2w6l0ZWx0IHRlcm1lbHQgYSBtb3ppayBrYXNzesOhaW7DoWwsWzNdIGV6emVsIGEgU3RhciBXYXJzIG3DoXNvZGlrIGxlZ2rDtnZlZGVsbWV6xZFiYiBmaWxtc29yb3phdCBhIE1hcnZlbCBDaW5lbWF0aWMgVW5pdmVyc2UgZmlsbWplaSBtw7Znw7Z0dC5bNF0gRWRkaWcga8OpdCBhbnRvbMOzZ2lhIGZpbG0ga8Opc3rDvGx0IGVsLCBlemVrIGEgWnNpdsOhbnkgRWd5ZXMgKDIwMTYpIMOpcyBhIFNvbG86IEVneSBTdGFyIFdhcnMtdMO2cnTDqW5ldCAoMjAxOCkuXHJcbiAgIE5hcGphaW5rcmEgYSBmaWxtZWtlbiBrw612w7xsIGvDtm55dmVrLCB0ZWxldsOtemnDs3Mgc29yb3phdG9rLCBzesOhbcOtdMOzZ8OpcGVzIMOpcyB2aWRlb2rDoXTDqWtvaywgdMOpbWFwYXJraSBsw6F0bml2YWzDs2ssIHZpZMOhbXBhcmtvaywga8OpcHJlZ8OpbnllayBlZ3nDvHR0ZXNlbiBiaXJ0b2tvbGrDoWsgYSBTdGFyIFdhcnMgbmV2ZXQsIGV6emVsIGlzIGhvenrDoWrDoXJ1bHZhIGEgZmlsbWVrIHZpbMOhZ8OhbmFrIGZlamzFkWTDqXPDqWhleiwgYsWRdsO8bMOpc8OpaGV6LiBBIGZpbG1zb3JvemF0IGJpcnRva29samEgYSBsZWdzaWtlcmVzZWJiIGZpbG1lcyBtZXJjaGFuZGlzaW5nIEd1aW5uZXNzLXJla29yZGrDoXQuIDIwMTUtYmVuIGEgU3RhciBXYXJzIG3DoXJrYSDDqXJ0w6lrw6l0IDQyIG1pbGxpw6FyZCBkb2xsw6FycmEgYmVjc8O8bHTDqWsuXHJcbiAgIEEg4oCea29yc3plbGxlbXTFkWzigJ0sIGFtZWx5YmVuIEx1Y2FzIGZlbG7FkXR0LCBleiBlZ3nDoWx0YWzDoW4gbmVtIHZvbHQgaWRlZ2VuOiBhIGhhdHZhbmFzLWhldHZlbmVzIMOpdmVrdMWRbCBrZXpkdmUgbWVnZmlneWVsaGV0xZEgYSB0ZXJtw6lzemV0dHVkb23DoW55b3Mgb3B0aW1pem11cyBoYW55YXRsw6FzYSwgc8WRdCBhIHR1ZG9tw6FueWVsbGVuZXNzw6lnIChleiBzesOhbW9zIG9rcmEgdmV6ZXRoZXTFkSB2aXNzemEsIGEgbGVnbnlpbHbDoW52YWzDs2JiLCBkZSBrw7Z6ZWwgc2VtIGJpenRvc2FuIGF6IGVneWV0bGVuIGEgaGlkZWdow6Fib3LDunMga29yc3phayBsw6lna8O2cmUsIGFtZWx5YmVuIGF6IGVtYmVyaXPDqWcga8OpdCBlZ3ltw6FzdMOzbCByZXR0ZWd2ZSDDqWzFkSBmcmFrY2nDs3JhIG9zem9sdmEgYSBjc8O6Y3N0ZWNobm9sw7NnacOhcyBhdG9tZmVneXZlcmVrIMOhcm55w6lrw6FiYW4gw6lsdGUgw6lsZXTDqXQsIGFtZWx5ZWsgZWd5c3plcnJlIGdhcmFudMOhbHTDoWsgYSBrw6l0ZXMgYsOpa8OpdCBhIGvDtmxjc8O2bsO2cyBlbHJldHRlbnTDqXMgamVnecOpYmVuLCBpbGxldHZlIGEgdG90w6FsaXMgdmlsw6FncHVzenR1bMOhc3QsIGhhIGF6IGVsxZFiYmkgdsOpbGV0bGVuw7xsIG3DqWdzZSBtxbFrw7ZkbmUpLiBBIENzaWxsYWdvayBow6Fib3LDumrDoXZhbCBMdWNhcyBuZW1jc2FrIGtpbMO6Z296dGEgYSBzY2ktZmkgbcWxZmFqYsOzbCBlZ3lpayBsw6lueWVnw6l0LCBhIHRlcm3DqXN6ZXR0dWRvbcOhbnlvayBpcsOhbnRpIMOpcmRla2zFkWTDqXN0LCBkZSB0b3bDoWJiIGlzIG1lbnQ6IGEgbGVnZWxzxZFrw6ludCBlbGvDqXN6w610ZXR0IGZpbG1iZW4sIGFtaXQga8Opc8WRYmIgw5pqIHJlbcOpbnluZWsgY8OtbWV6dGVrLCBhIGdvbm9zeiBiaXJvZGFsbWEgw6FsdGFsIGVsa8Opc3rDrXRldHQgYm9seWfDs3B1c3p0w610w7Mgc3p1cGVyZmVneXZlciwgYSBIYWzDoWxjc2lsbGFnIGvDqXB2aXNlbGkgYSB0dWRvbcOhbnlvcy10ZWNobm9sw7NnaWFpIGZlamzFkWTDqXMgY3PDumNzw6F0LCBhbWVseXTFkWwgbcOpZyBhIGZpbG0gbGVnZ29ub3N6YWJiIHN6ZXJlcGzFkWplLCBEYXJ0aCBWYWRlciBpcyB1bmRvcm9kaWsuXHJcbiAgIGZpbG1zb3JvemF0IGtlemTFkWRhcmFiasOhdCwgYSBDc2lsbGFnb2sgaMOhYm9yw7pqw6F0IDE5NzcuIG3DoWp1cyAyNS3DqW4gbXV0YXR0w6FrIGJlLCBtYWpkIGV6dCBrw7Z2ZXTFkWVuIGVsa8Opc3rDvGx0IGvDqXQgZm9seXRhdMOhc2EsIEEgQmlyb2RhbG9tIHZpc3N6YXbDoWcgKDE5ODAuIG3DoWp1cyAyMS4pLCBtYWpkIEEgSmVkaSB2aXNzemF0w6lyICgxOTgzLiBtw6FqdXMgMjUuKSBpcy5cclxuXHJcbiAgIEF6IGVsc8WRIHLDqXN6IGJlbXV0YXTDoXPDoW5hayBodXN6YWRpayDDqXZmb3JkdWzDs2rDoXJhIDE5OTctYmVuIGEgSVYu4oCTVkkuIGVwaXrDs2Rva2F0IMO6anJhIG1lZ2plbGVudGV0dMOpayAoZWzFkXN6w7ZyIGEgbW96aWtiYW4sIHV0w6FuYSBWSFMga2F6ZXR0w6FuKSwgU3BlY2lhbCBFZGl0aW9ucyBjw61tZW4uIEVra29yIHVneWFuaXMgYSB0ZWNobmlrYSBtw6FyIGxlaGV0xZF2w6kgdGV0dGUgb2x5YW4gc3BlY2nDoWxpcyBlZmZla3R1c29rIGFsa2FsbWF6w6Fzw6F0IGlzLCBhbWVseWVrIGEgZmlsbWVrIGZvcmdhdMOhc8OhbmFrIGlkZWrDqW4gbcOpZyBuZW0gdm9sdGFrIGxlaGV0c8OpZ2VzZWsuIEEgZmlsbSBmZWxqYXbDrXTDoXPDoW4ga8OtdsO8bCBHZW9yZ2UgTHVjYXMgbsOpaMOhbnkgZWZmZWt0dXN0IGRpZ2l0w6FsaXNhbiDDumpyYSBmZWxkb2xnb3pvdHQgKGRpZ2l0w6FsaXMgSmFiYmEgw6lzIGVneSBraWNzaW55LCBkZSBmb250b3MgamF2w610w6FzIGEgSGFuIFNvbG8gw6lzIEdyZWVkbyBrw7Z6dGkgaGFyY290IGJlbXV0YXTDsyBmaWxtcsOpc3psZXRiZW4pLiBFemVua8OtdsO8bCAyMDA0LiBzemVwdGVtYmVyIDIxLcOpbiBpc23DqXQgbWVnamVsZW50IGF6IGVyZWRldGkgdHJpbMOzZ2nDoW5hayBlZ3kgw7pqYWJiIGtpYWTDoXNhLCBhbWVseWJlbiBzemludMOpbiB0YWzDoWxoYXR1bmsgbsOpaMOhbnkgdsOhbHRvenRhdMOhc3QuIEEgbGVnamVsZW50xZFzZWJiIMOpcyBsZWd2aXRhdG90dGFiYiB2w6FsdG96dGF0w6FzIGF6IHZvbHQsIGFtaWtvciBhIENzaWxsYWdvayBow6Fib3LDumphIFZJOiBBIGplZGkgdmlzc3phdMOpciBjw61txbEgcsOpc3ogdXRvbHPDsyBqZWxlbmV0w6liZW4gTHVjYXMgbGVjc2Vyw6lsdGUgYXogQW5ha2luIFNreXdhbGtlcnQgasOhdHN6w7MgU2ViYXN0aWFuIFNoYXcgYWxha2rDoXQgSGF5ZGVuIENocmlzdGVuc2Vuw6lyZS5cclxuICAgXHJcbiAgIDE5OTktYmVuIGtlcsO8bHQgbW96aWtiYSBhIHJham9uZ8OzayDDoWx0YWwgdsOhcnZhLXbDoXJ0IGVwaXrDs2QgYSBTdGFyIFdhcnMgSS4gcsOpc3ogLSBCYWxqw7NzIMOBcm55YWssIG1lbHkgYXogZXJlZGV0aSB0cmlsw7NnaWEgY3NlbGVrbcOpbnllIGVsxZF0dCBrw7Zyw7xsYmVsw7xsIDMwIMOpdnZlbCBqw6F0c3rDs2Rpay4gRXp0IGvDtnZldHRlIHRvdsOhYmJpIGvDqXQgZm9seXRhdMOhcywgYSBTdGFyIFdhcnMgSUkuIHLDqXN6IC0gQSBrbMOzbm9rIHTDoW1hZMOhc2EgKDIwMDIpIMOpcyBhIFN0YXIgV2FycyBJSUkuIHLDqXN6IC0gQSBTaXRoLWVrIGJvc3N6w7pqYSAoMjAwNSkuXHJcbiAgIFxyXG4gICAyMDExLWJlbiBtZWdqZWxlbnQgYSBoYXQgZmlsbSBibHVyYXkga2lhZMOhc2EsIGFtZWx5IHN6aW50w6luIHRhcnRhbG1hem90dCBraXNlYmIgbcOzZG9zw610w6Fzb2thdCwgYSBrbGFzc3ppa3VzIMOpcyBheiBlbMWRem3DqW55dHJpbMOzZ2nDoWJhbiBlZ3lhcsOhbnQgKHV0w7NiYmliYW4gcMOpbGTDoXVsIGF6IEkuIHLDqXN6IFlvZGEtYsOhYmZpZ3Vyw6Fqw6F0IHN6w6Ftw610w7Nnw6lwZXMgZ3JhZmlrw6FyYSBjc2Vyw6lsdMOpaykuXHJcbiAgIFxyXG4gICAyMDEyLWJlbiBhIERpc25leSBmZWx2w6Fzw6Fyb2x0YSBhIEx1Y2FzZmlsbWV0LCBhbWVseSBhIHNvcm96YXQgam9nYWl2YWwgcmVuZGVsa2V6ZXR0LCBtYWpkIDIwMTMgbcOhanVzw6FiYW4gS2F0aGxlZW4gS2VubmVkeSwgYSBMdWNhc2ZpbG0gZWxuw7ZrZSBiZWplbGVudGV0dGUsIGhvZ3kgYSBrw7Z2ZXRrZXrFkSBTdGFyIFdhcnMtZmlsbWV0IOKAkyBhIHNvcm96YXQgaGV0ZWRpayByw6lzesOpdCwgQXogw6licmVkxZEgRXLFkXQg4oCTIDIwMTQtYmVuIGtlemRpayBmb3JnYXRuaSBKLiBKLiBBYnJhbXMgaXLDoW55w610w6Fzw6F2YWwgKGEgVklJLiByw6lzeiBmb3JnYXTDs2vDtm55dsOpdCBhIHJlbmRlesWRIExhd3JlbmNlIEthc2RhbiwgdmFsYW1pbnQgTWljaGFlbCBBcm5kdCDDrXJ0YSksIGEgZmlsbWV0IDIwMTUgZGVjZW1iZXLDqWJlbiBtdXRhdHRhayBiZSBhIG1vemlrYmFuLiBBIGZvbHl0YXTDoXMgdHJpbMOzZ2lhIG3DoXNvZGlrIHLDqXN6w6l0IGEgUmlhbiBKb2huc29uIMOhbHRhbCDDrXJ0IMOpcyByZW5kZXpldHQgQXogdXRvbHPDsyBKZWRpa2V0IDIwMTcuIGRlY2VtYmVyw6liZW4gbXV0YXR0w6FrIGJlIGEgbW96aWsuIEEgdHJpbMOzZ2lhIGJlZmVqZXrFkSBlcGl6w7NkamEsIG1lbHlldCBKLiBKLiBBYnJhbXMgcmVuZGV6IGVsxZFyZWzDoXRoYXTDs2xhZyAyMDE5IGRlY2VtYmVyw6liZW4ga2Vyw7xsIGEgbW96aWtiYS5bMTVdXHJcbiAgIFxyXG4gICBBIGZvbHl0YXTDoXMgdHJpbMOzZ2nDoXZhbCBlZ3kgaWTFkWJlbiBhIEx1Y2FzZmlsbSBiZWplbGVudGV0dGUsIGhvZ3kgQXogw6licmVkxZEgRXLFkSBiZW11dGF0w6FzYSB1dMOhbiDDqXZlbnRlIG9seWFuIMO6aiBmaWxtZWsga2Vyw7xsbsOpbmVrIGEgbW96aWtiYSwgbWVseWVrIG3DoXIgbmVtIGEgU2t5d2Fsa2VyLXNvcm96YXQgZm9seXRhdMOhc2FpIGxlbm7DqW5laywgaGFuZW0gYSBTdGFyIFdhcnMtdW5pdmVyenVtIGVneS1lZ3kgaMWRc8OpbmVrIHTDtnJ0w6luZXRlIGtlcsO8bG5lIGEgZmlsbWVrIGvDtnrDqXBwb250asOhYmEuWzE2XVsxN10gQXogZWxzxZEgaWx5ZW4gw7Zuw6FsbMOzIGZpbG0gYSAyMDE2IGRlY2VtYmVyw6liZW4gYmVtdXRhdG90dCBac2l2w6FueSBFZ3llcyB2b2x0LCBhbWVseSBhIElJSS4gw6lzIGEgSVYuIGVwaXrDs2Qga8O2esO2dHQgasOhdHN6w7NkaWsuIEV6dCBrw7Z2ZXR0ZSAyMDE4LiBtw6FqdXPDoWJhbiBhIFJvbiBIb3dhcmQgw6FsdGFsIHJlbmRlemV0dCBTb2xvLCBhbWVseSBIYW4gU29sbyBmaWF0YWxrb3LDoXQgbXV0YXRqYSBiZS5gKVxyXG4gICAudHJpZ2dlcignY2hhbmdlJyk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3RzL3dvcmQtY2xvdWQudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n')},7:function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUvd29yZC1jbG91ZC5sZXNzPzcyMmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc3R5bGUvd29yZC1jbG91ZC5sZXNzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n")},8:function(module,exports){eval('// Word cloud layout by Jason Davies, http://www.jasondavies.com/word-cloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n(function() {\r\n\r\n    //if (typeof define === "function" && define.amd) define(["d3"], cloud);\r\n    //else \r\n    cloud(this.d3);\r\n    \r\n    function cloud(d3) {\r\n      d3.layout.cloud = function cloud() {\r\n        var size = [256, 256],\r\n            text = cloudText,\r\n            font = cloudFont,\r\n            fontSize = cloudFontSize,\r\n            fontStyle = cloudFontNormal,\r\n            fontWeight = cloudFontNormal,\r\n            rotate = cloudRotate,\r\n            padding = cloudPadding,\r\n            spiral = archimedeanSpiral,\r\n            words = [],\r\n            timeInterval = Infinity,\r\n            event = d3.dispatch("word", "end"),\r\n            timer = null,\r\n            random = Math.random,\r\n            cloud = {};\r\n    \r\n        cloud.start = function() {\r\n          var board = zeroArray((size[0] >> 5) * size[1]),\r\n              bounds = null,\r\n              n = words.length,\r\n              i = -1,\r\n              tags = [],\r\n              data = words.map(function(d, i) {\r\n                d.text = text.call(this, d, i);\r\n                d.font = font.call(this, d, i);\r\n                d.style = fontStyle.call(this, d, i);\r\n                d.weight = fontWeight.call(this, d, i);\r\n                d.rotate = rotate.call(this, d, i);\r\n                d.size = ~~fontSize.call(this, d, i);\r\n                d.padding = padding.call(this, d, i);\r\n                return d;\r\n              }).sort(function(a, b) { return b.size - a.size; });\r\n    \r\n          if (timer) clearInterval(timer);\r\n          timer = setInterval(step, 0);\r\n          step();\r\n    \r\n          return cloud;\r\n    \r\n          function step() {\r\n            var start = Date.now();\r\n            while (Date.now() - start < timeInterval && ++i < n && timer) {\r\n              var d = data[i];\r\n              d.x = (size[0] * (random() + .5)) >> 1;\r\n              d.y = (size[1] * (random() + .5)) >> 1;\r\n              cloudSprite(d, data, i);\r\n              if (d.hasText && place(board, d, bounds)) {\r\n                tags.push(d);\r\n                event.word(d);\r\n                if (bounds) cloudBounds(bounds, d);\r\n                else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\r\n                // Temporary hack\r\n                d.x -= size[0] >> 1;\r\n                d.y -= size[1] >> 1;\r\n              }\r\n            }\r\n            if (i >= n) {\r\n              cloud.stop();\r\n              event.end(tags, bounds);\r\n            }\r\n          }\r\n        }\r\n    \r\n        cloud.stop = function() {\r\n          if (timer) {\r\n            clearInterval(timer);\r\n            timer = null;\r\n          }\r\n          return cloud;\r\n        };\r\n    \r\n        function place(board, tag, bounds) {\r\n          var perimeter = [{x: 0, y: 0}, {x: size[0], y: size[1]}],\r\n              startX = tag.x,\r\n              startY = tag.y,\r\n              maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n              s = spiral(size),\r\n              dt = random() < .5 ? 1 : -1,\r\n              t = -dt,\r\n              dxdy,\r\n              dx,\r\n              dy;\r\n              \r\n              counter = 0;\r\n    \r\n          while (dxdy = s(t += dt)) {\r\n            dx = ~~dxdy[0];\r\n            dy = ~~dxdy[1];\r\n    \r\n            //if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n     if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta || counter > 100000) {\r\n               \r\n                break;\r\n            }\r\n                \r\n            tag.x = startX + dx;\r\n            tag.y = startY + dy;\r\n    \r\n            if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\r\n                tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n            // TODO only check for collisions within current bounds.\r\n            if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n              if (!bounds || collideRects(tag, bounds)) {\r\n                var sprite = tag.sprite,\r\n                    w = tag.width >> 5,\r\n                    sw = size[0] >> 5,\r\n                    lx = tag.x - (w << 4),\r\n                    sx = lx & 0x7f,\r\n                    msx = 32 - sx,\r\n                    h = tag.y1 - tag.y0,\r\n                    x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n                    last;\r\n                for (var j = 0; j < h; j++) {\r\n                  last = 0;\r\n                  for (var i = 0; i <= w; i++) {\r\n                    board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n                  }\r\n                  x += sw;\r\n                }\r\n                delete tag.sprite;\r\n                return true;\r\n              }\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n    \r\n        cloud.timeInterval = function(_) {\r\n          return arguments.length ? (timeInterval = _ == null ? Infinity : _, cloud) : timeInterval;\r\n        };\r\n    \r\n        cloud.words = function(_) {\r\n          return arguments.length ? (words = _, cloud) : words;\r\n        };\r\n    \r\n        cloud.size = function(_) {\r\n          return arguments.length ? (size = [+_[0], +_[1]], cloud) : size;\r\n        };\r\n    \r\n        cloud.font = function(_) {\r\n          return arguments.length ? (font = d3.functor(_), cloud) : font;\r\n        };\r\n    \r\n        cloud.fontStyle = function(_) {\r\n          return arguments.length ? (fontStyle = d3.functor(_), cloud) : fontStyle;\r\n        };\r\n    \r\n        cloud.fontWeight = function(_) {\r\n          return arguments.length ? (fontWeight = d3.functor(_), cloud) : fontWeight;\r\n        };\r\n    \r\n        cloud.rotate = function(_) {\r\n          return arguments.length ? (rotate = d3.functor(_), cloud) : rotate;\r\n        };\r\n    \r\n        cloud.text = function(_) {\r\n          return arguments.length ? (text = d3.functor(_), cloud) : text;\r\n        };\r\n    \r\n        cloud.spiral = function(_) {\r\n          return arguments.length ? (spiral = spirals[_] || _, cloud) : spiral;\r\n        };\r\n    \r\n        cloud.fontSize = function(_) {\r\n          return arguments.length ? (fontSize = d3.functor(_), cloud) : fontSize;\r\n        };\r\n    \r\n        cloud.padding = function(_) {\r\n          return arguments.length ? (padding = d3.functor(_), cloud) : padding;\r\n        };\r\n    \r\n        cloud.random = function(_) {\r\n          return arguments.length ? (random = _, cloud) : random;\r\n        };\r\n    \r\n        return d3.rebind(cloud, event, "on");\r\n      };\r\n    \r\n      function cloudText(d) {\r\n        return d.text;\r\n      }\r\n    \r\n      function cloudFont() {\r\n        return "serif";\r\n      }\r\n    \r\n      function cloudFontNormal() {\r\n        return "normal";\r\n      }\r\n    \r\n      function cloudFontSize(d) {\r\n        return Math.sqrt(d.value);\r\n      }\r\n    \r\n      function cloudRotate() {\r\n        return (~~(Math.random() * 6) - 3) * 30;\r\n      }\r\n    \r\n      function cloudPadding() {\r\n        return 1;\r\n      }\r\n    \r\n      // Fetches a monochrome sprite bitmap for the specified text.\r\n      // Load in batches for speed.\r\n      function cloudSprite(d, data, di) {\r\n        if (d.sprite) return;\r\n        c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n        var x = 0,\r\n            y = 0,\r\n            maxh = 0,\r\n            n = data.length;\r\n        --di;\r\n        while (++di < n) {\r\n          d = data[di];\r\n          c.save();\r\n          c.font = d.style + " " + d.weight + " " + ~~((d.size + 1) / ratio) + "px " + d.font;\r\n          var w = c.measureText(d.text + "m").width * ratio,\r\n              h = d.size << 1;\r\n          if (d.rotate) {\r\n            var sr = Math.sin(d.rotate * cloudRadians),\r\n                cr = Math.cos(d.rotate * cloudRadians),\r\n                wcr = w * cr,\r\n                wsr = w * sr,\r\n                hcr = h * cr,\r\n                hsr = h * sr;\r\n            w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\r\n            h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n          } else {\r\n            w = (w + 0x1f) >> 5 << 5;\r\n          }\r\n          if (h > maxh) maxh = h;\r\n          if (x + w >= (cw << 5)) {\r\n            x = 0;\r\n            y += maxh;\r\n            maxh = 0;\r\n          }\r\n          if (y + h >= ch) break;\r\n          c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n          if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n          c.fillText(d.text, 0, 0);\r\n          if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, 0, 0);\r\n          c.restore();\r\n          d.width = w;\r\n          d.height = h;\r\n          d.xoff = x;\r\n          d.yoff = y;\r\n          d.x1 = w >> 1;\r\n          d.y1 = h >> 1;\r\n          d.x0 = -d.x1;\r\n          d.y0 = -d.y1;\r\n          d.hasText = true;\r\n          x += w;\r\n        }\r\n        var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n            sprite = [];\r\n        while (--di >= 0) {\r\n          d = data[di];\r\n          if (!d.hasText) continue;\r\n          var w = d.width,\r\n              w32 = w >> 5,\r\n              h = d.y1 - d.y0;\r\n          // Zero the buffer\r\n          for (var i = 0; i < h * w32; i++) sprite[i] = 0;\r\n          x = d.xoff;\r\n          if (x == null) return;\r\n          y = d.yoff;\r\n          var seen = 0,\r\n              seenRow = -1;\r\n          for (var j = 0; j < h; j++) {\r\n            for (var i = 0; i < w; i++) {\r\n              var k = w32 * j + (i >> 5),\r\n                  m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n              sprite[k] |= m;\r\n              seen |= m;\r\n            }\r\n            if (seen) seenRow = j;\r\n            else {\r\n              d.y0++;\r\n              h--;\r\n              j--;\r\n              y++;\r\n            }\r\n          }\r\n          d.y1 = d.y0 + seenRow;\r\n          d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n        }\r\n      }\r\n    \r\n      // Use mask-based collision detection.\r\n      function cloudCollide(tag, board, sw) {\r\n        sw >>= 5;\r\n        var sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n            last;\r\n        for (var j = 0; j < h; j++) {\r\n          last = 0;\r\n          for (var i = 0; i <= w; i++) {\r\n            if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\r\n                & board[x + i]) return true;\r\n          }\r\n          x += sw;\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      function cloudBounds(bounds, d) {\r\n        var b0 = bounds[0],\r\n            b1 = bounds[1];\r\n        if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n        if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n        if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n        if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n      }\r\n    \r\n      function collideRects(a, b) {\r\n        return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n      }\r\n    \r\n      function archimedeanSpiral(size) {\r\n        var e = size[0] / size[1];\r\n        return function(t) {\r\n          return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\r\n        };\r\n      }\r\n    \r\n      function rectangularSpiral(size) {\r\n        var dy = 4,\r\n            dx = dy * size[0] / size[1],\r\n            x = 0,\r\n            y = 0;\r\n        return function(t) {\r\n          var sign = t < 0 ? -1 : 1;\r\n          // See triangular numbers: T_n = n * (n + 1) / 2.\r\n          switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n            case 0:  x += dx; break;\r\n            case 1:  y += dy; break;\r\n            case 2:  x -= dx; break;\r\n            default: y -= dy; break;\r\n          }\r\n          return [x, y];\r\n        };\r\n      }\r\n    \r\n      // TODO reuse arrays?\r\n      function zeroArray(n) {\r\n        var a = [],\r\n            i = -1;\r\n        while (++i < n) a[i] = 0;\r\n        return a;\r\n      }\r\n    \r\n      var cloudRadians = Math.PI / 180,\r\n          cw = 1 << 11 >> 5,\r\n          ch = 1 << 11,\r\n          canvas,\r\n          ratio = 1;\r\n    \r\n      if (typeof document !== "undefined") {\r\n        canvas = document.createElement("canvas");\r\n        canvas.width = 1;\r\n        canvas.height = 1;\r\n        ratio = Math.sqrt(canvas.getContext("2d").getImageData(0, 0, 1, 1).data.length >> 2);\r\n        canvas.width = (cw << 5) / ratio;\r\n        canvas.height = ch / ratio;\r\n      } else {\r\n        // Attempt to use node-canvas.\r\n        canvas = new Canvas(cw << 5, ch);\r\n      }\r\n    \r\n      var c = canvas.getContext("2d"),\r\n          spirals = {\r\n            archimedean: archimedeanSpiral,\r\n            rectangular: rectangularSpiral\r\n          };\r\n      c.fillStyle = c.strokeStyle = "red";\r\n      c.textAlign = "center";\r\n    }\r\n    \r\n    })();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHMvZDMtY2xvdWQuanM/YWRiMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1QkFBdUIsd0JBQXdCLEVBQUU7O0FBRWhFO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZCQUE2QixHQUFHLDZCQUE2QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLFdBQVcsR0FBRyx1QkFBdUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQSxpQ0FBaUMsUUFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsYUFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE9BQU87QUFDaEMsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQSx5QkFBeUIsUUFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSyIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gV29yZCBjbG91ZCBsYXlvdXQgYnkgSmFzb24gRGF2aWVzLCBodHRwOi8vd3d3Lmphc29uZGF2aWVzLmNvbS93b3JkLWNsb3VkL1xyXG4vLyBBbGdvcml0aG0gZHVlIHRvIEpvbmF0aGFuIEZlaW5iZXJnLCBodHRwOi8vc3RhdGljLm1yZmVpbmJlcmcuY29tL2J2X2NoMDMucGRmXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvL2lmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKFtcImQzXCJdLCBjbG91ZCk7XHJcbiAgICAvL2Vsc2UgXHJcbiAgICBjbG91ZCh0aGlzLmQzKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY2xvdWQoZDMpIHtcclxuICAgICAgZDMubGF5b3V0LmNsb3VkID0gZnVuY3Rpb24gY2xvdWQoKSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBbMjU2LCAyNTZdLFxyXG4gICAgICAgICAgICB0ZXh0ID0gY2xvdWRUZXh0LFxyXG4gICAgICAgICAgICBmb250ID0gY2xvdWRGb250LFxyXG4gICAgICAgICAgICBmb250U2l6ZSA9IGNsb3VkRm9udFNpemUsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZSA9IGNsb3VkRm9udE5vcm1hbCxcclxuICAgICAgICAgICAgZm9udFdlaWdodCA9IGNsb3VkRm9udE5vcm1hbCxcclxuICAgICAgICAgICAgcm90YXRlID0gY2xvdWRSb3RhdGUsXHJcbiAgICAgICAgICAgIHBhZGRpbmcgPSBjbG91ZFBhZGRpbmcsXHJcbiAgICAgICAgICAgIHNwaXJhbCA9IGFyY2hpbWVkZWFuU3BpcmFsLFxyXG4gICAgICAgICAgICB3b3JkcyA9IFtdLFxyXG4gICAgICAgICAgICB0aW1lSW50ZXJ2YWwgPSBJbmZpbml0eSxcclxuICAgICAgICAgICAgZXZlbnQgPSBkMy5kaXNwYXRjaChcIndvcmRcIiwgXCJlbmRcIiksXHJcbiAgICAgICAgICAgIHRpbWVyID0gbnVsbCxcclxuICAgICAgICAgICAgcmFuZG9tID0gTWF0aC5yYW5kb20sXHJcbiAgICAgICAgICAgIGNsb3VkID0ge307XHJcbiAgICBcclxuICAgICAgICBjbG91ZC5zdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGJvYXJkID0gemVyb0FycmF5KChzaXplWzBdID4+IDUpICogc2l6ZVsxXSksXHJcbiAgICAgICAgICAgICAgYm91bmRzID0gbnVsbCxcclxuICAgICAgICAgICAgICBuID0gd29yZHMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgIGkgPSAtMSxcclxuICAgICAgICAgICAgICB0YWdzID0gW10sXHJcbiAgICAgICAgICAgICAgZGF0YSA9IHdvcmRzLm1hcChmdW5jdGlvbihkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBkLnRleHQgPSB0ZXh0LmNhbGwodGhpcywgZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBkLmZvbnQgPSBmb250LmNhbGwodGhpcywgZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBkLnN0eWxlID0gZm9udFN0eWxlLmNhbGwodGhpcywgZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBkLndlaWdodCA9IGZvbnRXZWlnaHQuY2FsbCh0aGlzLCBkLCBpKTtcclxuICAgICAgICAgICAgICAgIGQucm90YXRlID0gcm90YXRlLmNhbGwodGhpcywgZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBkLnNpemUgPSB+fmZvbnRTaXplLmNhbGwodGhpcywgZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBkLnBhZGRpbmcgPSBwYWRkaW5nLmNhbGwodGhpcywgZCwgaSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGIuc2l6ZSAtIGEuc2l6ZTsgfSk7XHJcbiAgICBcclxuICAgICAgICAgIGlmICh0aW1lcikgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgICB0aW1lciA9IHNldEludGVydmFsKHN0ZXAsIDApO1xyXG4gICAgICAgICAgc3RlcCgpO1xyXG4gICAgXHJcbiAgICAgICAgICByZXR1cm4gY2xvdWQ7XHJcbiAgICBcclxuICAgICAgICAgIGZ1bmN0aW9uIHN0ZXAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChEYXRlLm5vdygpIC0gc3RhcnQgPCB0aW1lSW50ZXJ2YWwgJiYgKytpIDwgbiAmJiB0aW1lcikge1xyXG4gICAgICAgICAgICAgIHZhciBkID0gZGF0YVtpXTtcclxuICAgICAgICAgICAgICBkLnggPSAoc2l6ZVswXSAqIChyYW5kb20oKSArIC41KSkgPj4gMTtcclxuICAgICAgICAgICAgICBkLnkgPSAoc2l6ZVsxXSAqIChyYW5kb20oKSArIC41KSkgPj4gMTtcclxuICAgICAgICAgICAgICBjbG91ZFNwcml0ZShkLCBkYXRhLCBpKTtcclxuICAgICAgICAgICAgICBpZiAoZC5oYXNUZXh0ICYmIHBsYWNlKGJvYXJkLCBkLCBib3VuZHMpKSB7XHJcbiAgICAgICAgICAgICAgICB0YWdzLnB1c2goZCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC53b3JkKGQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kcykgY2xvdWRCb3VuZHMoYm91bmRzLCBkKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgYm91bmRzID0gW3t4OiBkLnggKyBkLngwLCB5OiBkLnkgKyBkLnkwfSwge3g6IGQueCArIGQueDEsIHk6IGQueSArIGQueTF9XTtcclxuICAgICAgICAgICAgICAgIC8vIFRlbXBvcmFyeSBoYWNrXHJcbiAgICAgICAgICAgICAgICBkLnggLT0gc2l6ZVswXSA+PiAxO1xyXG4gICAgICAgICAgICAgICAgZC55IC09IHNpemVbMV0gPj4gMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgPj0gbikge1xyXG4gICAgICAgICAgICAgIGNsb3VkLnN0b3AoKTtcclxuICAgICAgICAgICAgICBldmVudC5lbmQodGFncywgYm91bmRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGNsb3VkLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmICh0aW1lcikge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGNsb3VkO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBwbGFjZShib2FyZCwgdGFnLCBib3VuZHMpIHtcclxuICAgICAgICAgIHZhciBwZXJpbWV0ZXIgPSBbe3g6IDAsIHk6IDB9LCB7eDogc2l6ZVswXSwgeTogc2l6ZVsxXX1dLFxyXG4gICAgICAgICAgICAgIHN0YXJ0WCA9IHRhZy54LFxyXG4gICAgICAgICAgICAgIHN0YXJ0WSA9IHRhZy55LFxyXG4gICAgICAgICAgICAgIG1heERlbHRhID0gTWF0aC5zcXJ0KHNpemVbMF0gKiBzaXplWzBdICsgc2l6ZVsxXSAqIHNpemVbMV0pLFxyXG4gICAgICAgICAgICAgIHMgPSBzcGlyYWwoc2l6ZSksXHJcbiAgICAgICAgICAgICAgZHQgPSByYW5kb20oKSA8IC41ID8gMSA6IC0xLFxyXG4gICAgICAgICAgICAgIHQgPSAtZHQsXHJcbiAgICAgICAgICAgICAgZHhkeSxcclxuICAgICAgICAgICAgICBkeCxcclxuICAgICAgICAgICAgICBkeTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBjb3VudGVyID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgd2hpbGUgKGR4ZHkgPSBzKHQgKz0gZHQpKSB7XHJcbiAgICAgICAgICAgIGR4ID0gfn5keGR5WzBdO1xyXG4gICAgICAgICAgICBkeSA9IH5+ZHhkeVsxXTtcclxuICAgIFxyXG4gICAgICAgICAgICAvL2lmIChNYXRoLm1pbihNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSkgPj0gbWF4RGVsdGEpIGJyZWFrO1xyXG4gICAgIGlmIChNYXRoLm1pbihNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSkgPj0gbWF4RGVsdGEgfHwgY291bnRlciA+IDEwMDAwMCkge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGFnLnggPSBzdGFydFggKyBkeDtcclxuICAgICAgICAgICAgdGFnLnkgPSBzdGFydFkgKyBkeTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodGFnLnggKyB0YWcueDAgPCAwIHx8IHRhZy55ICsgdGFnLnkwIDwgMCB8fFxyXG4gICAgICAgICAgICAgICAgdGFnLnggKyB0YWcueDEgPiBzaXplWzBdIHx8IHRhZy55ICsgdGFnLnkxID4gc2l6ZVsxXSkgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gb25seSBjaGVjayBmb3IgY29sbGlzaW9ucyB3aXRoaW4gY3VycmVudCBib3VuZHMuXHJcbiAgICAgICAgICAgIGlmICghYm91bmRzIHx8ICFjbG91ZENvbGxpZGUodGFnLCBib2FyZCwgc2l6ZVswXSkpIHtcclxuICAgICAgICAgICAgICBpZiAoIWJvdW5kcyB8fCBjb2xsaWRlUmVjdHModGFnLCBib3VuZHMpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gdGFnLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgICAgICB3ID0gdGFnLndpZHRoID4+IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3cgPSBzaXplWzBdID4+IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgbHggPSB0YWcueCAtICh3IDw8IDQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN4ID0gbHggJiAweDdmLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zeCA9IDMyIC0gc3gsXHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IHRhZy55MSAtIHRhZy55MCxcclxuICAgICAgICAgICAgICAgICAgICB4ID0gKHRhZy55ICsgdGFnLnkwKSAqIHN3ICsgKGx4ID4+IDUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3Q7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICBsYXN0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbeCArIGldIHw9IChsYXN0IDw8IG1zeCkgfCAoaSA8IHcgPyAobGFzdCA9IHNwcml0ZVtqICogdyArIGldKSA+Pj4gc3ggOiAwKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB4ICs9IHN3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRhZy5zcHJpdGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBjbG91ZC50aW1lSW50ZXJ2YWwgPSBmdW5jdGlvbihfKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aW1lSW50ZXJ2YWwgPSBfID09IG51bGwgPyBJbmZpbml0eSA6IF8sIGNsb3VkKSA6IHRpbWVJbnRlcnZhbDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY2xvdWQud29yZHMgPSBmdW5jdGlvbihfKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh3b3JkcyA9IF8sIGNsb3VkKSA6IHdvcmRzO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBjbG91ZC5zaXplID0gZnVuY3Rpb24oXykge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc2l6ZSA9IFsrX1swXSwgK19bMV1dLCBjbG91ZCkgOiBzaXplO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBjbG91ZC5mb250ID0gZnVuY3Rpb24oXykge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZm9udCA9IGQzLmZ1bmN0b3IoXyksIGNsb3VkKSA6IGZvbnQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGNsb3VkLmZvbnRTdHlsZSA9IGZ1bmN0aW9uKF8pIHtcclxuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGZvbnRTdHlsZSA9IGQzLmZ1bmN0b3IoXyksIGNsb3VkKSA6IGZvbnRTdHlsZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY2xvdWQuZm9udFdlaWdodCA9IGZ1bmN0aW9uKF8pIHtcclxuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGZvbnRXZWlnaHQgPSBkMy5mdW5jdG9yKF8pLCBjbG91ZCkgOiBmb250V2VpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBjbG91ZC5yb3RhdGUgPSBmdW5jdGlvbihfKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChyb3RhdGUgPSBkMy5mdW5jdG9yKF8pLCBjbG91ZCkgOiByb3RhdGU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGNsb3VkLnRleHQgPSBmdW5jdGlvbihfKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0ZXh0ID0gZDMuZnVuY3RvcihfKSwgY2xvdWQpIDogdGV4dDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY2xvdWQuc3BpcmFsID0gZnVuY3Rpb24oXykge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc3BpcmFsID0gc3BpcmFsc1tfXSB8fCBfLCBjbG91ZCkgOiBzcGlyYWw7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGNsb3VkLmZvbnRTaXplID0gZnVuY3Rpb24oXykge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZm9udFNpemUgPSBkMy5mdW5jdG9yKF8pLCBjbG91ZCkgOiBmb250U2l6ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY2xvdWQucGFkZGluZyA9IGZ1bmN0aW9uKF8pIHtcclxuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHBhZGRpbmcgPSBkMy5mdW5jdG9yKF8pLCBjbG91ZCkgOiBwYWRkaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBjbG91ZC5yYW5kb20gPSBmdW5jdGlvbihfKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChyYW5kb20gPSBfLCBjbG91ZCkgOiByYW5kb207XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBkMy5yZWJpbmQoY2xvdWQsIGV2ZW50LCBcIm9uXCIpO1xyXG4gICAgICB9O1xyXG4gICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNsb3VkVGV4dChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudGV4dDtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNsb3VkRm9udCgpIHtcclxuICAgICAgICByZXR1cm4gXCJzZXJpZlwiO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgZnVuY3Rpb24gY2xvdWRGb250Tm9ybWFsKCkge1xyXG4gICAgICAgIHJldHVybiBcIm5vcm1hbFwiO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgZnVuY3Rpb24gY2xvdWRGb250U2l6ZShkKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNsb3VkUm90YXRlKCkge1xyXG4gICAgICAgIHJldHVybiAofn4oTWF0aC5yYW5kb20oKSAqIDYpIC0gMykgKiAzMDtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNsb3VkUGFkZGluZygpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIC8vIEZldGNoZXMgYSBtb25vY2hyb21lIHNwcml0ZSBiaXRtYXAgZm9yIHRoZSBzcGVjaWZpZWQgdGV4dC5cclxuICAgICAgLy8gTG9hZCBpbiBiYXRjaGVzIGZvciBzcGVlZC5cclxuICAgICAgZnVuY3Rpb24gY2xvdWRTcHJpdGUoZCwgZGF0YSwgZGkpIHtcclxuICAgICAgICBpZiAoZC5zcHJpdGUpIHJldHVybjtcclxuICAgICAgICBjLmNsZWFyUmVjdCgwLCAwLCAoY3cgPDwgNSkgLyByYXRpbywgY2ggLyByYXRpbyk7XHJcbiAgICAgICAgdmFyIHggPSAwLFxyXG4gICAgICAgICAgICB5ID0gMCxcclxuICAgICAgICAgICAgbWF4aCA9IDAsXHJcbiAgICAgICAgICAgIG4gPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAtLWRpO1xyXG4gICAgICAgIHdoaWxlICgrK2RpIDwgbikge1xyXG4gICAgICAgICAgZCA9IGRhdGFbZGldO1xyXG4gICAgICAgICAgYy5zYXZlKCk7XHJcbiAgICAgICAgICBjLmZvbnQgPSBkLnN0eWxlICsgXCIgXCIgKyBkLndlaWdodCArIFwiIFwiICsgfn4oKGQuc2l6ZSArIDEpIC8gcmF0aW8pICsgXCJweCBcIiArIGQuZm9udDtcclxuICAgICAgICAgIHZhciB3ID0gYy5tZWFzdXJlVGV4dChkLnRleHQgKyBcIm1cIikud2lkdGggKiByYXRpbyxcclxuICAgICAgICAgICAgICBoID0gZC5zaXplIDw8IDE7XHJcbiAgICAgICAgICBpZiAoZC5yb3RhdGUpIHtcclxuICAgICAgICAgICAgdmFyIHNyID0gTWF0aC5zaW4oZC5yb3RhdGUgKiBjbG91ZFJhZGlhbnMpLFxyXG4gICAgICAgICAgICAgICAgY3IgPSBNYXRoLmNvcyhkLnJvdGF0ZSAqIGNsb3VkUmFkaWFucyksXHJcbiAgICAgICAgICAgICAgICB3Y3IgPSB3ICogY3IsXHJcbiAgICAgICAgICAgICAgICB3c3IgPSB3ICogc3IsXHJcbiAgICAgICAgICAgICAgICBoY3IgPSBoICogY3IsXHJcbiAgICAgICAgICAgICAgICBoc3IgPSBoICogc3I7XHJcbiAgICAgICAgICAgIHcgPSAoTWF0aC5tYXgoTWF0aC5hYnMod2NyICsgaHNyKSwgTWF0aC5hYnMod2NyIC0gaHNyKSkgKyAweDFmKSA+PiA1IDw8IDU7XHJcbiAgICAgICAgICAgIGggPSB+fk1hdGgubWF4KE1hdGguYWJzKHdzciArIGhjciksIE1hdGguYWJzKHdzciAtIGhjcikpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdyA9ICh3ICsgMHgxZikgPj4gNSA8PCA1O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGggPiBtYXhoKSBtYXhoID0gaDtcclxuICAgICAgICAgIGlmICh4ICsgdyA+PSAoY3cgPDwgNSkpIHtcclxuICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgIHkgKz0gbWF4aDtcclxuICAgICAgICAgICAgbWF4aCA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoeSArIGggPj0gY2gpIGJyZWFrO1xyXG4gICAgICAgICAgYy50cmFuc2xhdGUoKHggKyAodyA+PiAxKSkgLyByYXRpbywgKHkgKyAoaCA+PiAxKSkgLyByYXRpbyk7XHJcbiAgICAgICAgICBpZiAoZC5yb3RhdGUpIGMucm90YXRlKGQucm90YXRlICogY2xvdWRSYWRpYW5zKTtcclxuICAgICAgICAgIGMuZmlsbFRleHQoZC50ZXh0LCAwLCAwKTtcclxuICAgICAgICAgIGlmIChkLnBhZGRpbmcpIGMubGluZVdpZHRoID0gMiAqIGQucGFkZGluZywgYy5zdHJva2VUZXh0KGQudGV4dCwgMCwgMCk7XHJcbiAgICAgICAgICBjLnJlc3RvcmUoKTtcclxuICAgICAgICAgIGQud2lkdGggPSB3O1xyXG4gICAgICAgICAgZC5oZWlnaHQgPSBoO1xyXG4gICAgICAgICAgZC54b2ZmID0geDtcclxuICAgICAgICAgIGQueW9mZiA9IHk7XHJcbiAgICAgICAgICBkLngxID0gdyA+PiAxO1xyXG4gICAgICAgICAgZC55MSA9IGggPj4gMTtcclxuICAgICAgICAgIGQueDAgPSAtZC54MTtcclxuICAgICAgICAgIGQueTAgPSAtZC55MTtcclxuICAgICAgICAgIGQuaGFzVGV4dCA9IHRydWU7XHJcbiAgICAgICAgICB4ICs9IHc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwaXhlbHMgPSBjLmdldEltYWdlRGF0YSgwLCAwLCAoY3cgPDwgNSkgLyByYXRpbywgY2ggLyByYXRpbykuZGF0YSxcclxuICAgICAgICAgICAgc3ByaXRlID0gW107XHJcbiAgICAgICAgd2hpbGUgKC0tZGkgPj0gMCkge1xyXG4gICAgICAgICAgZCA9IGRhdGFbZGldO1xyXG4gICAgICAgICAgaWYgKCFkLmhhc1RleHQpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgdmFyIHcgPSBkLndpZHRoLFxyXG4gICAgICAgICAgICAgIHczMiA9IHcgPj4gNSxcclxuICAgICAgICAgICAgICBoID0gZC55MSAtIGQueTA7XHJcbiAgICAgICAgICAvLyBaZXJvIHRoZSBidWZmZXJcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaCAqIHczMjsgaSsrKSBzcHJpdGVbaV0gPSAwO1xyXG4gICAgICAgICAgeCA9IGQueG9mZjtcclxuICAgICAgICAgIGlmICh4ID09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgIHkgPSBkLnlvZmY7XHJcbiAgICAgICAgICB2YXIgc2VlbiA9IDAsXHJcbiAgICAgICAgICAgICAgc2VlblJvdyA9IC0xO1xyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3OyBpKyspIHtcclxuICAgICAgICAgICAgICB2YXIgayA9IHczMiAqIGogKyAoaSA+PiA1KSxcclxuICAgICAgICAgICAgICAgICAgbSA9IHBpeGVsc1soKHkgKyBqKSAqIChjdyA8PCA1KSArICh4ICsgaSkpIDw8IDJdID8gMSA8PCAoMzEgLSAoaSAlIDMyKSkgOiAwO1xyXG4gICAgICAgICAgICAgIHNwcml0ZVtrXSB8PSBtO1xyXG4gICAgICAgICAgICAgIHNlZW4gfD0gbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2Vlbikgc2VlblJvdyA9IGo7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIGQueTArKztcclxuICAgICAgICAgICAgICBoLS07XHJcbiAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgIHkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZC55MSA9IGQueTAgKyBzZWVuUm93O1xyXG4gICAgICAgICAgZC5zcHJpdGUgPSBzcHJpdGUuc2xpY2UoMCwgKGQueTEgLSBkLnkwKSAqIHczMik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgLy8gVXNlIG1hc2stYmFzZWQgY29sbGlzaW9uIGRldGVjdGlvbi5cclxuICAgICAgZnVuY3Rpb24gY2xvdWRDb2xsaWRlKHRhZywgYm9hcmQsIHN3KSB7XHJcbiAgICAgICAgc3cgPj49IDU7XHJcbiAgICAgICAgdmFyIHNwcml0ZSA9IHRhZy5zcHJpdGUsXHJcbiAgICAgICAgICAgIHcgPSB0YWcud2lkdGggPj4gNSxcclxuICAgICAgICAgICAgbHggPSB0YWcueCAtICh3IDw8IDQpLFxyXG4gICAgICAgICAgICBzeCA9IGx4ICYgMHg3ZixcclxuICAgICAgICAgICAgbXN4ID0gMzIgLSBzeCxcclxuICAgICAgICAgICAgaCA9IHRhZy55MSAtIHRhZy55MCxcclxuICAgICAgICAgICAgeCA9ICh0YWcueSArIHRhZy55MCkgKiBzdyArIChseCA+PiA1KSxcclxuICAgICAgICAgICAgbGFzdDtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGg7IGorKykge1xyXG4gICAgICAgICAgbGFzdCA9IDA7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB3OyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCgobGFzdCA8PCBtc3gpIHwgKGkgPCB3ID8gKGxhc3QgPSBzcHJpdGVbaiAqIHcgKyBpXSkgPj4+IHN4IDogMCkpXHJcbiAgICAgICAgICAgICAgICAmIGJvYXJkW3ggKyBpXSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB4ICs9IHN3O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBmdW5jdGlvbiBjbG91ZEJvdW5kcyhib3VuZHMsIGQpIHtcclxuICAgICAgICB2YXIgYjAgPSBib3VuZHNbMF0sXHJcbiAgICAgICAgICAgIGIxID0gYm91bmRzWzFdO1xyXG4gICAgICAgIGlmIChkLnggKyBkLngwIDwgYjAueCkgYjAueCA9IGQueCArIGQueDA7XHJcbiAgICAgICAgaWYgKGQueSArIGQueTAgPCBiMC55KSBiMC55ID0gZC55ICsgZC55MDtcclxuICAgICAgICBpZiAoZC54ICsgZC54MSA+IGIxLngpIGIxLnggPSBkLnggKyBkLngxO1xyXG4gICAgICAgIGlmIChkLnkgKyBkLnkxID4gYjEueSkgYjEueSA9IGQueSArIGQueTE7XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBmdW5jdGlvbiBjb2xsaWRlUmVjdHMoYSwgYikge1xyXG4gICAgICAgIHJldHVybiBhLnggKyBhLngxID4gYlswXS54ICYmIGEueCArIGEueDAgPCBiWzFdLnggJiYgYS55ICsgYS55MSA+IGJbMF0ueSAmJiBhLnkgKyBhLnkwIDwgYlsxXS55O1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgZnVuY3Rpb24gYXJjaGltZWRlYW5TcGlyYWwoc2l6ZSkge1xyXG4gICAgICAgIHZhciBlID0gc2l6ZVswXSAvIHNpemVbMV07XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgIHJldHVybiBbZSAqICh0ICo9IC4xKSAqIE1hdGguY29zKHQpLCB0ICogTWF0aC5zaW4odCldO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBmdW5jdGlvbiByZWN0YW5ndWxhclNwaXJhbChzaXplKSB7XHJcbiAgICAgICAgdmFyIGR5ID0gNCxcclxuICAgICAgICAgICAgZHggPSBkeSAqIHNpemVbMF0gLyBzaXplWzFdLFxyXG4gICAgICAgICAgICB4ID0gMCxcclxuICAgICAgICAgICAgeSA9IDA7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgIHZhciBzaWduID0gdCA8IDAgPyAtMSA6IDE7XHJcbiAgICAgICAgICAvLyBTZWUgdHJpYW5ndWxhciBudW1iZXJzOiBUX24gPSBuICogKG4gKyAxKSAvIDIuXHJcbiAgICAgICAgICBzd2l0Y2ggKChNYXRoLnNxcnQoMSArIDQgKiBzaWduICogdCkgLSBzaWduKSAmIDMpIHtcclxuICAgICAgICAgICAgY2FzZSAwOiAgeCArPSBkeDsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTogIHkgKz0gZHk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6ICB4IC09IGR4OyBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogeSAtPSBkeTsgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gW3gsIHldO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICAvLyBUT0RPIHJldXNlIGFycmF5cz9cclxuICAgICAgZnVuY3Rpb24gemVyb0FycmF5KG4pIHtcclxuICAgICAgICB2YXIgYSA9IFtdLFxyXG4gICAgICAgICAgICBpID0gLTE7XHJcbiAgICAgICAgd2hpbGUgKCsraSA8IG4pIGFbaV0gPSAwO1xyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgdmFyIGNsb3VkUmFkaWFucyA9IE1hdGguUEkgLyAxODAsXHJcbiAgICAgICAgICBjdyA9IDEgPDwgMTEgPj4gNSxcclxuICAgICAgICAgIGNoID0gMSA8PCAxMSxcclxuICAgICAgICAgIGNhbnZhcyxcclxuICAgICAgICAgIHJhdGlvID0gMTtcclxuICAgIFxyXG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSAxO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xyXG4gICAgICAgIHJhdGlvID0gTWF0aC5zcXJ0KGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZ2V0SW1hZ2VEYXRhKDAsIDAsIDEsIDEpLmRhdGEubGVuZ3RoID4+IDIpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IChjdyA8PCA1KSAvIHJhdGlvO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjaCAvIHJhdGlvO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gdXNlIG5vZGUtY2FudmFzLlxyXG4gICAgICAgIGNhbnZhcyA9IG5ldyBDYW52YXMoY3cgPDwgNSwgY2gpO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgdmFyIGMgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxyXG4gICAgICAgICAgc3BpcmFscyA9IHtcclxuICAgICAgICAgICAgYXJjaGltZWRlYW46IGFyY2hpbWVkZWFuU3BpcmFsLFxyXG4gICAgICAgICAgICByZWN0YW5ndWxhcjogcmVjdGFuZ3VsYXJTcGlyYWxcclxuICAgICAgICAgIH07XHJcbiAgICAgIGMuZmlsbFN0eWxlID0gYy5zdHJva2VTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgIGMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgfSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy90cy9kMy1jbG91ZC5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n')}});